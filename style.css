/* ============================================================
   PharmaChain — style.css
   Aesthetic: Dark pharmaceutical lab meets precision instrument
   Palette:   Deep slate navy base · Ice white text · 
              Teal accent · Amber warning · Crimson alert
   Fonts:     Syne (display) + JetBrains Mono (data) + Barlow (body)
   ============================================================ */

/* ─────────────────────────────────────────────
   0. GOOGLE FONTS IMPORT
───────────────────────────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=Syne:wght@600;700;800&family=JetBrains+Mono:wght@300;400;500&family=Barlow:wght@300;400;500;600&display=swap');


/* ─────────────────────────────────────────────
   1. CSS CUSTOM PROPERTIES (Design Tokens)
───────────────────────────────────────────── */
:root {
  /* Base Surface */
  --bg-void:        #080c12;
  --bg-base:        #0d1320;
  --bg-raised:      #111927;
  --bg-card:        #141e2e;
  --bg-input:       #0f1720;
  --bg-border:      #1e2d42;

  /* Typography */
  --text-primary:   #e8edf5;
  --text-secondary: #7d92aa;
  --text-dim:       #3d5166;
  --text-label:     #4e6680;

  /* Accent — Teal (primary action, blockchain data) */
  --teal:           #1dd3b0;
  --teal-dim:       #0f7a66;
  --teal-glow:      rgba(29, 211, 176, 0.12);
  --teal-border:    rgba(29, 211, 176, 0.25);

  /* Amber — Warning / medium risk */
  --amber:          #f0a500;
  --amber-dim:      #7a5200;
  --amber-glow:     rgba(240, 165, 0, 0.10);
  --amber-border:   rgba(240, 165, 0, 0.25);

  /* Crimson — Danger / high risk / recalled */
  --crimson:        #e8365d;
  --crimson-dim:    #6e1a2c;
  --crimson-glow:   rgba(232, 54, 93, 0.10);
  --crimson-border: rgba(232, 54, 93, 0.25);

  /* Slate — Neutral info */
  --slate:          #4e8bcd;
  --slate-dim:      #253d5a;
  --slate-glow:     rgba(78, 139, 205, 0.10);

  /* Spacing */
  --space-xs:  4px;
  --space-sm:  8px;
  --space-md:  16px;
  --space-lg:  24px;
  --space-xl:  40px;
  --space-2xl: 64px;

  /* Typography Scale */
  --font-display:  'Syne', sans-serif;
  --font-mono:     'JetBrains Mono', monospace;
  --font-body:     'Barlow', sans-serif;

  /* Radii */
  --radius-sm:  4px;
  --radius-md:  8px;
  --radius-lg:  12px;

  /* Transitions */
  --ease:       cubic-bezier(0.16, 1, 0.3, 1);
  --t-fast:     150ms var(--ease);
  --t-mid:      280ms var(--ease);
  --t-slow:     500ms var(--ease);

  /* Header height (used for sticky offset) */
  --header-h:   64px;
  --ticker-h:   36px;
}


/* ─────────────────────────────────────────────
   2. RESET & BASE
───────────────────────────────────────────── */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 15px;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
}

body {
  background-color: var(--bg-void);
  color: var(--text-primary);
  font-family: var(--font-body);
  font-weight: 400;
  line-height: 1.6;
  min-height: 100vh;
  /* Subtle noise texture overlay */
  background-image:
    radial-gradient(ellipse 80% 50% at 50% -10%, rgba(29,211,176,0.05) 0%, transparent 70%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
}

a {
  color: inherit;
  text-decoration: none;
}

button, input, select, textarea {
  font-family: inherit;
  font-size: inherit;
}

img {
  display: block;
  max-width: 100%;
}

.hidden {
  display: none !important;
}


/* ─────────────────────────────────────────────
   3. TYPOGRAPHY UTILITIES
───────────────────────────────────────────── */
.mono {
  font-family: var(--font-mono);
  font-size: 0.82rem;
  letter-spacing: 0.02em;
}

.small {
  font-size: 0.8rem;
  color: var(--text-secondary);
}


/* ─────────────────────────────────────────────
   4. HEADER
───────────────────────────────────────────── */
#site-header {
  position: sticky;
  top: 0;
  z-index: 100;
  height: var(--header-h);
  background: rgba(8, 12, 18, 0.92);
  border-bottom: 1px solid var(--bg-border);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.header-inner {
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 var(--space-xl);
  height: 100%;
  display: flex;
  align-items: center;
  gap: var(--space-xl);
}

/* Logo */
.logo-block {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  flex-shrink: 0;
}

.logo-icon {
  font-size: 1.5rem;
  color: var(--teal);
  line-height: 1;
  filter: drop-shadow(0 0 8px var(--teal));
  animation: pulse-glow 3s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% { filter: drop-shadow(0 0 6px var(--teal)); opacity: 0.9; }
  50%       { filter: drop-shadow(0 0 14px var(--teal)); opacity: 1; }
}

.logo-text {
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.logo-main {
  font-family: var(--font-display);
  font-size: 1.15rem;
  font-weight: 800;
  letter-spacing: 0.12em;
  color: var(--text-primary);
  line-height: 1;
}

.logo-sub {
  font-family: var(--font-mono);
  font-size: 0.6rem;
  letter-spacing: 0.15em;
  color: var(--text-label);
  text-transform: uppercase;
}

/* Navigation */
#main-nav {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  margin: 0 auto;
}

.nav-btn {
  background: none;
  border: 1px solid transparent;
  color: var(--text-secondary);
  font-family: var(--font-mono);
  font-size: 0.72rem;
  font-weight: 500;
  letter-spacing: 0.12em;
  padding: var(--space-sm) var(--space-lg);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: color var(--t-fast), border-color var(--t-fast), background var(--t-fast);
  white-space: nowrap;
}

.nav-btn:hover {
  color: var(--text-primary);
  border-color: var(--bg-border);
  background: var(--bg-raised);
}

.nav-btn.active {
  color: var(--teal);
  border-color: var(--teal-border);
  background: var(--teal-glow);
}

/* Chain Status */
.chain-status {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  flex-shrink: 0;
}

.status-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: var(--text-dim);
  flex-shrink: 0;
  transition: background var(--t-mid);
}

.status-dot.dot-online {
  background: var(--teal);
  box-shadow: 0 0 8px var(--teal);
  animation: dot-pulse 2s ease-in-out infinite;
}

.status-dot.dot-offline {
  background: var(--crimson);
  box-shadow: 0 0 8px var(--crimson);
}

@keyframes dot-pulse {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.4; }
}

#chain-label {
  font-family: var(--font-mono);
  font-size: 0.68rem;
  letter-spacing: 0.1em;
  color: var(--text-secondary);
}


/* ─────────────────────────────────────────────
   5. TICKER BAR
───────────────────────────────────────────── */
#ticker-bar {
  height: var(--ticker-h);
  background: var(--bg-base);
  border-bottom: 1px solid var(--bg-border);
  display: flex;
  align-items: center;
  overflow: hidden;
  gap: 0;
}

.ticker-label {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  letter-spacing: 0.15em;
  color: var(--teal);
  background: var(--teal-glow);
  border-right: 1px solid var(--teal-border);
  padding: 0 var(--space-md);
  height: 100%;
  display: flex;
  align-items: center;
  flex-shrink: 0;
  white-space: nowrap;
}

.ticker-track {
  display: flex;
  align-items: center;
  gap: var(--space-2xl);
  padding-left: var(--space-xl);
  animation: ticker-scroll 28s linear infinite;
  white-space: nowrap;
}

.ticker-item {
  font-family: var(--font-mono);
  font-size: 0.68rem;
  letter-spacing: 0.06em;
  color: var(--text-secondary);
  flex-shrink: 0;
}

.ticker-item::before {
  content: '·';
  margin-right: var(--space-lg);
  color: var(--text-dim);
}

@keyframes ticker-scroll {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}


/* ─────────────────────────────────────────────
   6. MAIN LAYOUT
───────────────────────────────────────────── */
#main-content {
  max-width: 1280px;
  margin: 0 auto;
  padding: var(--space-xl) var(--space-xl) var(--space-2xl);
}


/* ─────────────────────────────────────────────
   7. TAB PANELS
───────────────────────────────────────────── */
.tab-panel {
  animation: panel-in var(--t-slow) both;
}

@keyframes panel-in {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Panel Header */
.panel-header {
  padding: var(--space-xl) 0 var(--space-lg);
  border-bottom: 1px solid var(--bg-border);
  margin-bottom: var(--space-xl);
}

.panel-title {
  font-family: var(--font-display);
  font-size: 2.2rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  color: var(--text-primary);
  line-height: 1.1;
  margin-bottom: var(--space-sm);
}

.panel-desc {
  font-size: 0.9rem;
  color: var(--text-secondary);
  font-weight: 300;
  max-width: 560px;
  line-height: 1.65;
}

/* Panel Body — 2 column on wide screens */
.panel-body {
  display: grid;
  grid-template-columns: 420px 1fr;
  gap: var(--space-xl);
  align-items: start;
}

@media (max-width: 900px) {
  .panel-body {
    grid-template-columns: 1fr;
  }
  .header-inner {
    padding: 0 var(--space-lg);
    gap: var(--space-md);
  }
  .logo-sub { display: none; }
}


/* ─────────────────────────────────────────────
   8. CARDS
───────────────────────────────────────────── */
.card {
  background: var(--bg-card);
  border: 1px solid var(--bg-border);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  position: relative;
  overflow: hidden;
}

/* Subtle left accent line */
.card::before {
  content: '';
  position: absolute;
  left: 0;
  top: var(--space-lg);
  bottom: var(--space-lg);
  width: 2px;
  background: linear-gradient(to bottom, transparent, var(--teal-dim), transparent);
  border-radius: 0 2px 2px 0;
}

.card-label {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  letter-spacing: 0.2em;
  color: var(--text-label);
  text-transform: uppercase;
  margin-bottom: var(--space-xl);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid var(--bg-border);
}

/* Result card slides in */
.result-card {
  animation: card-reveal var(--t-slow) both;
}

@keyframes card-reveal {
  from { opacity: 0; transform: translateX(10px); }
  to   { opacity: 1; transform: translateX(0); }
}


/* ─────────────────────────────────────────────
   9. FORM ELEMENTS
───────────────────────────────────────────── */
.field-group {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  margin-bottom: var(--space-lg);
}

.field-group:last-of-type {
  margin-bottom: var(--space-xl);
}

label {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  letter-spacing: 0.18em;
  color: var(--text-label);
  text-transform: uppercase;
}

input[type="text"],
select {
  background: var(--bg-input);
  border: 1px solid var(--bg-border);
  border-radius: var(--radius-sm);
  color: var(--text-primary);
  font-family: var(--font-mono);
  font-size: 0.85rem;
  letter-spacing: 0.04em;
  padding: 11px var(--space-md);
  width: 100%;
  outline: none;
  transition: border-color var(--t-fast), box-shadow var(--t-fast), background var(--t-fast);
  appearance: none;
  -webkit-appearance: none;
}

input[type="text"]::placeholder {
  color: var(--text-dim);
  font-weight: 300;
}

input[type="text"]:focus,
select:focus {
  border-color: var(--teal-dim);
  background: #0c1520;
  box-shadow: 0 0 0 3px var(--teal-glow);
}

select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%234e6680' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 14px center;
  padding-right: 36px;
  cursor: pointer;
  color: var(--text-primary);
}

select option {
  background: var(--bg-card);
  color: var(--text-primary);
}

select option[disabled] {
  color: var(--text-dim);
}

.field-hint {
  font-size: 0.72rem;
  color: var(--text-dim);
  font-weight: 300;
  letter-spacing: 0.02em;
  line-height: 1.4;
}


/* ─────────────────────────────────────────────
   10. BUTTONS
───────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  border-radius: var(--radius-sm);
  font-family: var(--font-mono);
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  font-weight: 500;
  text-transform: uppercase;
  cursor: pointer;
  transition: all var(--t-fast);
  border: 1px solid transparent;
  white-space: nowrap;
}

.btn-primary {
  background: var(--teal);
  color: var(--bg-void);
  border-color: var(--teal);
  padding: 13px var(--space-xl);
  width: 100%;
  font-weight: 700;
  position: relative;
  overflow: hidden;
}

.btn-primary::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,0);
  transition: background var(--t-fast);
}

.btn-primary:hover::after {
  background: rgba(255,255,255,0.08);
}

.btn-primary:active {
  transform: scale(0.99);
}

.btn-primary:disabled {
  background: var(--teal-dim);
  border-color: var(--teal-dim);
  color: rgba(8,12,18,0.5);
  cursor: not-allowed;
  transform: none;
}

.btn-ghost {
  background: transparent;
  color: var(--teal);
  border-color: var(--teal-border);
  padding: var(--space-sm) var(--space-lg);
  margin-top: var(--space-md);
}

.btn-ghost:hover {
  background: var(--teal-glow);
}

.btn-loader {
  font-family: var(--font-mono);
  font-size: 0.72rem;
  letter-spacing: 0.14em;
}

/* Loader pulse animation when waiting */
button:disabled .btn-loader {
  animation: loader-blink 1.1s step-end infinite;
}

@keyframes loader-blink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.3; }
}


/* ─────────────────────────────────────────────
   11. RESULT ROWS (Key-Value pairs)
───────────────────────────────────────────── */
.result-row {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-md);
  padding: 12px 0;
  border-bottom: 1px solid var(--bg-border);
}

.result-row:last-of-type {
  border-bottom: none;
}

.result-key {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  letter-spacing: 0.16em;
  color: var(--text-label);
  text-transform: uppercase;
  flex-shrink: 0;
  padding-top: 2px;
}

.result-val {
  font-family: var(--font-mono);
  font-size: 0.82rem;
  color: var(--text-primary);
  text-align: right;
  word-break: break-all;
}


/* ─────────────────────────────────────────────
   12. STATUS BADGES (Solidity enum states)
───────────────────────────────────────────── */
.status-badge {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.12em;
  padding: 4px 10px;
  border-radius: var(--radius-sm);
  border: 1px solid;
  text-align: center;
}

.status-manufactured {
  color: var(--slate);
  background: var(--slate-glow);
  border-color: rgba(78,139,205,0.3);
}

.status-transit {
  color: var(--amber);
  background: var(--amber-glow);
  border-color: var(--amber-border);
}

.status-retailer {
  color: #a78bfa;
  background: rgba(167,139,250,0.08);
  border-color: rgba(167,139,250,0.25);
}

.status-sold {
  color: var(--text-secondary);
  background: rgba(125,146,170,0.08);
  border-color: rgba(125,146,170,0.2);
}

.status-recalled {
  color: var(--crimson);
  background: var(--crimson-glow);
  border-color: var(--crimson-border);
}

.status-expired {
  color: #f97316;
  background: rgba(249,115,22,0.08);
  border-color: rgba(249,115,22,0.25);
}

.status-verified {
  color: var(--teal);
  background: var(--teal-glow);
  border-color: var(--teal-border);
}

.status-unknown {
  color: var(--text-dim);
  background: transparent;
  border-color: var(--text-dim);
}


/* ─────────────────────────────────────────────
   13. TX HASH LINK
───────────────────────────────────────────── */
.tx-link {
  color: var(--teal);
  font-family: var(--font-mono);
  font-size: 0.8rem;
  letter-spacing: 0.04em;
  transition: color var(--t-fast), text-shadow var(--t-fast);
  text-decoration: none;
}

.tx-link:hover {
  color: #5df0d8;
  text-shadow: 0 0 12px var(--teal);
}


/* ─────────────────────────────────────────────
   14. QR CODE BLOCK (Manufacture tab result)
───────────────────────────────────────────── */
.qr-block {
  margin-top: var(--space-xl);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--bg-border);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-md);
}

.qr-label {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  letter-spacing: 0.2em;
  color: var(--text-label);
  text-transform: uppercase;
  align-self: flex-start;
}

.qr-img {
  width: 180px;
  height: 180px;
  border-radius: var(--radius-md);
  border: 1px solid var(--teal-border);
  padding: var(--space-md);
  background: #fff;
  box-shadow: 0 0 30px var(--teal-glow);
  transition: box-shadow var(--t-mid);
}

.qr-img:hover {
  box-shadow: 0 0 50px rgba(29,211,176,0.2);
}


/* ─────────────────────────────────────────────
   15. RISK METER (Handover tab — AI output)
───────────────────────────────────────────── */
.risk-meter-block {
  margin-bottom: var(--space-xl);
  padding-bottom: var(--space-xl);
  border-bottom: 1px solid var(--bg-border);
}

.risk-label-row {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: var(--space-md);
}

.risk-value {
  font-family: var(--font-mono);
  font-size: 1.6rem;
  font-weight: 500;
  color: var(--text-primary);
  letter-spacing: 0.04em;
  transition: color var(--t-mid);
}

/* Risk bar track */
.risk-bar-bg {
  height: 6px;
  background: var(--bg-border);
  border-radius: 99px;
  overflow: hidden;
  margin-bottom: var(--space-md);
}

/* Risk bar fill — animated width set via JS */
.risk-bar-fill {
  height: 100%;
  width: 0%;
  border-radius: 99px;
  transition: width 700ms var(--ease);
}

.risk-bar-fill.risk-low {
  background: linear-gradient(90deg, var(--teal-dim), var(--teal));
  box-shadow: 0 0 8px var(--teal-glow);
}

.risk-bar-fill.risk-medium {
  background: linear-gradient(90deg, var(--amber-dim), var(--amber));
  box-shadow: 0 0 8px var(--amber-glow);
}

.risk-bar-fill.risk-high {
  background: linear-gradient(90deg, var(--crimson-dim), var(--crimson));
  box-shadow: 0 0 8px var(--crimson-glow);
}

/* Verdict label below bar */
.risk-verdict {
  font-family: var(--font-mono);
  font-size: 0.7rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  display: block;
}

.risk-verdict.risk-low    { color: var(--teal); }
.risk-verdict.risk-medium { color: var(--amber); }
.risk-verdict.risk-high   { color: var(--crimson); }

/* Risk pill in history table */
.risk-pill {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: 0.68rem;
  padding: 3px 8px;
  border-radius: var(--radius-sm);
  border: 1px solid;
  letter-spacing: 0.06em;
}

.risk-pill.risk-low {
  color: var(--teal);
  background: var(--teal-glow);
  border-color: var(--teal-border);
}

.risk-pill.risk-medium {
  color: var(--amber);
  background: var(--amber-glow);
  border-color: var(--amber-border);
}

.risk-pill.risk-high {
  color: var(--crimson);
  background: var(--crimson-glow);
  border-color: var(--crimson-border);
}


/* ─────────────────────────────────────────────
   16. AUTHENTICATION VERDICT BANNER (Verify tab)
───────────────────────────────────────────── */
.auth-verdict-banner {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
  padding: var(--space-xl);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-xl);
  border: 1px solid;
  animation: verdict-in 400ms var(--ease) both;
}

@keyframes verdict-in {
  from { opacity: 0; transform: scale(0.97); }
  to   { opacity: 1; transform: scale(1); }
}

.auth-icon {
  font-size: 2rem;
  font-family: var(--font-display);
  font-weight: 800;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  line-height: 1;
}

.auth-text {
  font-family: var(--font-display);
  font-size: 1.7rem;
  font-weight: 800;
  letter-spacing: 0.06em;
}

/* Authentic state */
.auth-verified {
  background: var(--teal-glow);
  border-color: var(--teal-border);
}

.auth-verified .auth-icon {
  background: var(--teal-glow);
  color: var(--teal);
  border: 1px solid var(--teal-border);
}

.auth-verified .auth-text {
  color: var(--teal);
}

/* Fake / counterfeit state */
.auth-fake {
  background: var(--crimson-glow);
  border-color: var(--crimson-border);
}

.auth-fake .auth-icon {
  background: var(--crimson-glow);
  color: var(--crimson);
  border: 1px solid var(--crimson-border);
}

.auth-fake .auth-text {
  color: var(--crimson);
}

/* Error state */
.auth-error {
  background: var(--amber-glow);
  border-color: var(--amber-border);
}

.auth-error .auth-icon {
  background: var(--amber-glow);
  color: var(--amber);
  border: 1px solid var(--amber-border);
}

.auth-error .auth-text {
  color: var(--amber);
}


/* ─────────────────────────────────────────────
   17. DATA TABLE
───────────────────────────────────────────── */
.data-table {
  margin-bottom: var(--space-xl);
}


/* ─────────────────────────────────────────────
   18. JOURNEY GRAPH (AI-generated matplotlib img)
───────────────────────────────────────────── */
.journey-block,
.history-block {
  margin-top: var(--space-xl);
  padding-top: var(--space-xl);
  border-top: 1px solid var(--bg-border);
}

.journey-label {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  letter-spacing: 0.2em;
  color: var(--text-label);
  text-transform: uppercase;
  margin-bottom: var(--space-lg);
}

.journey-img {
  width: 100%;
  border-radius: var(--radius-md);
  border: 1px solid var(--bg-border);
  background: var(--bg-input);
}


/* ─────────────────────────────────────────────
   19. HISTORY TABLE (MongoDB movement records)
───────────────────────────────────────────── */
#history-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.82rem;
}

#history-table thead tr {
  border-bottom: 1px solid var(--bg-border);
}

#history-table th {
  font-family: var(--font-mono);
  font-size: 0.6rem;
  letter-spacing: 0.16em;
  color: var(--text-label);
  text-transform: uppercase;
  padding: var(--space-sm) var(--space-md);
  text-align: left;
  font-weight: 400;
}

#history-table td {
  padding: 11px var(--space-md);
  color: var(--text-secondary);
  border-bottom: 1px solid rgba(30,45,66,0.6);
  vertical-align: middle;
}

#history-table tbody tr {
  transition: background var(--t-fast);
}

#history-table tbody tr:hover {
  background: rgba(29,211,176,0.03);
}

/* High risk row highlighting */
.row-high-risk {
  background: var(--crimson-glow) !important;
}

.row-high-risk td {
  color: var(--text-primary);
}

/* Step number pill */
.step-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--bg-border);
  font-family: var(--font-mono);
  font-size: 0.62rem;
  color: var(--text-secondary);
  font-weight: 500;
}


/* ─────────────────────────────────────────────
   20. TOAST NOTIFICATIONS
───────────────────────────────────────────── */
.toast {
  position: fixed;
  bottom: var(--space-xl);
  right: var(--space-xl);
  z-index: 9999;
  min-width: 280px;
  max-width: 420px;
  padding: 14px var(--space-lg);
  border-radius: var(--radius-md);
  font-family: var(--font-mono);
  font-size: 0.75rem;
  letter-spacing: 0.06em;
  line-height: 1.5;
  border: 1px solid;
  backdrop-filter: blur(12px);
  animation: toast-in var(--t-mid) var(--ease) both;
  transition: opacity var(--t-mid);
}

@keyframes toast-in {
  from { opacity: 0; transform: translateY(12px) scale(0.97); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

.toast.hidden {
  opacity: 0;
  pointer-events: none;
  display: flex !important; /* override .hidden so animation plays */
  animation: toast-out var(--t-fast) var(--ease) forwards;
}

@keyframes toast-out {
  to { opacity: 0; transform: translateY(8px); }
}

.toast-success {
  background: rgba(13,20,32,0.95);
  border-color: var(--teal-border);
  color: var(--teal);
}

.toast-error {
  background: rgba(13,20,32,0.95);
  border-color: var(--crimson-border);
  color: var(--crimson);
}

.toast-warning {
  background: rgba(13,20,32,0.95);
  border-color: var(--amber-border);
  color: var(--amber);
}

.toast-info {
  background: rgba(13,20,32,0.95);
  border-color: var(--bg-border);
  color: var(--text-secondary);
}


/* ─────────────────────────────────────────────
   21. FOOTER
───────────────────────────────────────────── */
#site-footer {
  max-width: 1280px;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-xl);
  border-top: 1px solid var(--bg-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-md);
  flex-wrap: wrap;
}

#site-footer span {
  font-family: var(--font-mono);
  font-size: 0.62rem;
  letter-spacing: 0.1em;
  color: var(--text-dim);
}


/* ─────────────────────────────────────────────
   22. SCROLLBAR (Webkit — subtle styling)
───────────────────────────────────────────── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg-void);
}

::-webkit-scrollbar-thumb {
  background: var(--bg-border);
  border-radius: 99px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-dim);
}


/* ─────────────────────────────────────────────
   23. SELECTION
───────────────────────────────────────────── */
::selection {
  background: var(--teal-glow);
  color: var(--teal);
}


/* ─────────────────────────────────────────────
   24. RESPONSIVE — MOBILE
───────────────────────────────────────────── */
@media (max-width: 640px) {
  #main-content {
    padding: var(--space-lg);
  }

  .panel-title {
    font-size: 1.6rem;
  }

  .card {
    padding: var(--space-lg);
  }

  .auth-text {
    font-size: 1.2rem;
  }

  #history-table th:nth-child(3),
  #history-table td:nth-child(3) {
    display: none; /* hide location col on mobile */
  }

  .toast {
    left: var(--space-lg);
    right: var(--space-lg);
    min-width: unset;
  }

  #site-footer {
    flex-direction: column;
    align-items: flex-start;
  }

  .chain-status { display: none; }
}